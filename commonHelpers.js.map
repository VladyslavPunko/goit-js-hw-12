{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.png","../src/js/render-functions.js","../src/js/pixaby-api.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFpSURBVHgBrZQ9UsMwEIXXQoZhcgCobU6RNKlygPTOKUhPDz00UOBbpE9OgX0FD8xQkBAbrYkyirQrK3Fe5bHX79Nqf6JqPG6AUJzN4DLLIETr/B02eU5+kz7z39UK6uIDfBLpnYqdtc8URLLmiwX8PD1CkO7nLET2NlfSsRRE9jXvgshzmPsg0mcu0lQVufCa2jE2ROhuccyTFK6fX1R2fKvi4TBGJImTCXoiROALqhXrsmhTxCAKojPfqBmoy9L9f+dJzoEWDpCZri6cab5mBkzLC6AgAFGweRCAgoSaowQEqmGeuxSUgXnn/1fE756jAVxBQyHyFHOuu1gADpUtfOfrFhOyXS6dWcA1joq+X9+a+IyrAnWl1recTNrDXcy/Ph8iVbh4OgVxcwtbNeJaTVVBl+wY0xwzl2a6eiWculFtc9S+yH0hlPkBoA+EM3cADmQwaLeqT9gtcjhku42cgwPIaARd8u2mP6EkDQvp61kkAAAAAElFTkSuQmCC\"","import 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport closeIcon from '../img/bi_x-octagon.png';\nimport SimpleLightbox from 'simplelightbox';\n\nexport const renderPhoto = function (photos) {\n  const markup = photos\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class='gallery-item'>\n    <a class='gallery-link' href='${largeImageURL}'>\n      <img class='gallery-image' src='${webformatURL}' alt='${tags}'/>\n    </a>\n  <div class='container-app'>\n  <p><span>Likes</span> ${likes}</p>\n  <p><span>Views</span> ${views}</p>\n  <p><span>Comments</span> ${comments}</p>\n  <p><span>Downloads</span> ${downloads}</p>\n  </div>\n   </li>`\n    )\n    .join('');\n  const list = document.querySelector('.gallery');\n  list.innerHTML += markup;\n};\n\nexport const simpleLightbox = function () {\n  let gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionsPosition: 'bottom',\n    captionDelay: 250,\n  });\n  gallery.on('show.simpleLightbox');\n  gallery.refresh();\n};\n\nexport const noImages = function () {\n  iziToast.error({\n    messageColor: '#FFF',\n    color: '#EF4040',\n    iconUrl: closeIcon,\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n};\n","import axios, { isCancel, AxiosError } from 'axios';\nimport { renderPhoto, simpleLightbox, noImages } from './render-functions';\nimport iziToast from 'izitoast';\nimport closeIcon from '../img/bi_x-octagon.png';\n\nexport default async function getPhotos(inputSearch, page) {\n  try {\n    const searchParams = new URLSearchParams({\n      key: '42209591-dcd9ad54ecaffcfe9e9b64d04',\n      q: `${inputSearch}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      per_page: 15,\n      page: page,\n    });\n\n    const result = await axios.get(`https://pixabay.com/api/?${searchParams}`);\n    // const photos = result.json();\n\n    const arrayPhotos = result.data.hits;\n    if (arrayPhotos.length === 0) {\n      noImages();\n    }\n    const spanLoader = document.querySelector('.loader');\n    renderPhoto(arrayPhotos);\n    simpleLightbox();\n    spanLoader.remove();\n    const load = document.querySelector('.load');\n    load.classList.remove('hidden');\n  } catch (error) {\n    iziToast.error({\n      messageColor: '#FFF',\n      color: '#EF4040',\n      iconUrl: closeIcon,\n      position: 'topRight',\n      message: `${error}`,\n    });\n  }\n}\n","import iziToast from 'izitoast';\nimport pixsbyApi from './js/pixaby-api';\nimport closeIcon from './img/bi_x-octagon.png';\n\nconst form = document.querySelector('form');\nconst load = document.querySelector('.load');\n\n// console.log(load);\n\n// load.classList.add(\"hidden\")\n\nform.addEventListener('submit', onSearch);\nload.addEventListener('click', onClickMore);\n\nlet page = 1;\nlet inputSearch;\n\nfunction onSearch(e) {\n  inputSearch = form.elements.search.value;\n  const list = document.querySelector('.gallery');\n  list.innerHTML = '';\n  onSearchButton(e);\n}\n\nfunction onClickMore(e) {\n  page += 1;\n  onSearchButton(e);\n}\n\nfunction onSearchButton(e) {\n  e.preventDefault();\n\n  if (inputSearch === '') {\n    iziToast.error({\n      messageColor: '#FFF',\n      color: '#EF4040',\n      iconUrl: closeIcon,\n      position: 'topRight',\n      message: 'Please,enter what do you want to find!',\n    });\n    return;\n  }\n  form.insertAdjacentHTML('afterend', '<span class=\"loader\"></span>');\n\n  pixsbyApi(inputSearch, page);\n  form.reset();\n}\n"],"names":["closeIcon","renderPhoto","photos","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","list","simpleLightbox","gallery","SimpleLightbox","noImages","iziToast","getPhotos","inputSearch","page","searchParams","arrayPhotos","axios","spanLoader","error","form","load","onSearch","onClickMore","e","onSearchButton","pixsbyApi"],"mappings":"owBAAA,MAAeA,EAAA,yoBCOFC,EAAc,SAAUC,EAAQ,CAC3C,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,oCAC4BN,CAAa;AAAA,wCACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,0BAGxCC,CAAK;AAAA,0BACLC,CAAK;AAAA,6BACFC,CAAQ;AAAA,8BACPC,CAAS;AAAA;AAAA,SAGlC,EACA,KAAK,EAAE,EACJC,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,WAAaR,CACpB,EAEaS,EAAiB,UAAY,CACxC,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,iBAAkB,SAClB,aAAc,GAClB,CAAG,EACDD,EAAQ,GAAG,qBAAqB,EAChCA,EAAQ,QAAO,CACjB,EAEaE,EAAW,UAAY,CAClCC,EAAS,MAAM,CACb,aAAc,OACd,MAAO,UACP,QAAShB,EACT,SAAU,WACV,QACE,0EACN,CAAG,CACH,EClDe,eAAeiB,EAAUC,EAAaC,EAAM,CACzD,GAAI,CACF,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGF,CAAW,GACjB,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GACV,KAAMC,CACZ,CAAK,EAKKE,GAHS,MAAMC,EAAM,IAAI,4BAA4BF,CAAY,EAAE,GAG9C,KAAK,KAC5BC,EAAY,SAAW,GACzBN,IAEF,MAAMQ,EAAa,SAAS,cAAc,SAAS,EACnDtB,EAAYoB,CAAW,EACvBT,IACAW,EAAW,OAAM,EACJ,SAAS,cAAc,OAAO,EACtC,UAAU,OAAO,QAAQ,CAC/B,OAAQC,EAAO,CACdR,EAAS,MAAM,CACb,aAAc,OACd,MAAO,UACP,QAAShB,EACT,SAAU,WACV,QAAS,GAAGwB,CAAK,EACvB,CAAK,CACF,CACH,CCnCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAO,SAAS,cAAc,OAAO,EAM3CD,EAAK,iBAAiB,SAAUE,CAAQ,EACxCD,EAAK,iBAAiB,QAASE,CAAW,EAE1C,IAAIT,EAAO,EACPD,EAEJ,SAASS,EAASE,EAAG,CACnBX,EAAcO,EAAK,SAAS,OAAO,MACnC,MAAMd,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,UAAY,GACjBmB,EAAeD,CAAC,CAClB,CAEA,SAASD,EAAYC,EAAG,CACtBV,GAAQ,EACRW,EAAeD,CAAC,CAClB,CAEA,SAASC,EAAeD,EAAG,CAGzB,GAFAA,EAAE,eAAc,EAEZX,IAAgB,GAAI,CACtBF,EAAS,MAAM,CACb,aAAc,OACd,MAAO,UACP,QAAShB,EACT,SAAU,WACV,QAAS,wCACf,CAAK,EACD,MACD,CACDyB,EAAK,mBAAmB,WAAY,8BAA8B,EAElEM,EAAUb,EAAaC,CAAI,EAC3BM,EAAK,MAAK,CACZ"}